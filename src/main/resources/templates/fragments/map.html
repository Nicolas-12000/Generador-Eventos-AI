<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="map">
  <section id="map-section">
    <h2>Location</h2>
    <div id="map" style="height: 300px; width: 100%;"></div>
    <script th:inline="javascript">
      /*<![CDATA[*/
      function initMap() {
        /* Use latitude/longitude if provided, otherwise geocode address */
        var lat = /*[[${vm.landing.latitude}]]*/0.0;
        var lng = /*[[${vm.landing.longitude}]]*/0.0;
        var center = { lat: lat, lng: lng };
        var map = new google.maps.Map(document.getElementById('map'), {
          center: center,
          zoom: 14
        });
        new google.maps.Marker({ position: center, map: map });
      }
      /*]]>*/
    </script>
    <script async defer
      th:src="@{https://maps.googleapis.com/maps/api/js(key=${vm.googleMapsApiKey},callback='initMap')}">
    </script>
    <p th:if="${vm.locationAddress}" th:text="'Address: ' + ${vm.locationAddress}"></p>
  </section>
